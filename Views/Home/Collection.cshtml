@using Microsoft.AspNetCore.Mvc.Localization
@inject IHtmlLocalizer<MermerSitesi.SharedResource> Localizer
@{
    // URL'den gelen kategori ismini alıyoruz (örn: white)
// Eğer boş gelirse, "" (boş metin) olarak kabul et diyoruz (?? "" ekledik)
string categorySlug = ViewData["CategorySlug"] as string ?? "";
    string categoryTitle = "";
    string headerImage = "";

    // Kategoriye göre Başlık ve Arka Plan Resmi seçimi
    switch (categorySlug)
    {
        case "white":
            categoryTitle = Localizer["WhiteMarble"].Value;
            headerImage = "https://images.unsplash.com/photo-1595428774223-ef52624120d2?q=80&w=1920&auto=format&fit=crop";
            break;
        case "black":
            categoryTitle = Localizer["BlackMarble"].Value;
            headerImage = "https://images.unsplash.com/photo-1616047006789-b7af5afb8c20?q=80&w=1920&auto=format&fit=crop";
            break;
        case "brown":
            categoryTitle = Localizer["BrownMarble"].Value;
            headerImage = "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=1920&auto=format&fit=crop";
            break;
        case "gray":
            categoryTitle = Localizer["GrayMarble"].Value;
            headerImage = "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=1920&auto=format&fit=crop";
            break;
        default:
            categoryTitle = Localizer["Collection"].Value;
            headerImage = "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=1920&auto=format&fit=crop";
            break;
    }

    ViewData["Title"] = categoryTitle;
}

<div class="page-header d-flex align-items-center justify-content-center mb-5" 
     style="background-image: url('@headerImage');">
    <div class="text-center text-white position-relative z-index-1">
        <h1 class="display-3 fw-bold text-uppercase" style="font-family: 'Times New Roman', serif; letter-spacing: 3px;">@categoryTitle</h1>
        <div class="divider mx-auto bg-white mt-3" style="width: 80px; height: 3px;"></div>
        <p class="mt-3 lead text-uppercase" style="letter-spacing: 2px; font-size: 0.9rem;">@Localizer["DiscoverCollection"]</p>
    </div>
    <div class="overlay"></div>
</div>

<div class="container mb-5">
    <div class="row g-4">
        @for (int i = 1; i <= 6; i++)
        {
            <div class="col-6 col-md-4">
                <div class="card border-0 shadow-sm h-100 product-card-hover">
                    <div class="product-img-box">
                        <img src="@headerImage" alt="Mermer">
                    </div>
                    <div class="card-body text-center">
                        <h5 class="product-title mt-2">@categoryTitle - @i</h5>
                        <p class="text-muted small">Premium Seri</p>
                        <a href="#" class="btn btn-outline-dark btn-sm rounded-0 px-4">@Localizer["ViewDetails"]</a>
                    </div>
                </div>
            </div>
        }
    </div>
</div>